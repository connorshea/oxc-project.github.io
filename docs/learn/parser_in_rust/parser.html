<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Parser | The JavaScript Oxidation Compiler</title>
    <meta name="description" content="A collection of high-performance JavaScript tools written in Rust">
    <link rel="preload stylesheet" href="/assets/style.b0dc5dc8.css" as="style">
    
    <script type="module" src="/assets/app.dc997d02.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.e9426d46.js">
    <link rel="modulepreload" href="/assets/chunks/theme.32ea68b6.js">
    <link rel="modulepreload" href="/assets/chunks/team.abef0ced.js">
    <link rel="modulepreload" href="/assets/chunks/Banner.04f861d5.js">
    <link rel="modulepreload" href="/assets/docs_learn_parser_in_rust_parser.md.005ebeb6.lean.js">
    <link rel="icon" href="https://raw.githubusercontent.com/oxc-project/oxc-assets/main/logo-round-min.png">
    <meta property="og:site_name" content="Oxc">
    <meta property="og:url" content="https://github.com/oxc-project">
    <meta property="og:image" content="https://github.com/oxc-project/oxc-assets/blob/main/preview-white-min.png?raw=true">
    <meta name="twitter:site" content="Oxc">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://github.com/oxc-project/oxc-assets/blob/main/preview-white-min.png?raw=true">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:title" content="The JavaScript Oxidation Compiler">
    <meta property="og:description" content="A collection of high-performance JavaScript tools written in Rust">
    <meta name="twitter:title" content="The JavaScript Oxidation Compiler">
    <meta name="twitter:description" content="A collection of high-performance JavaScript tools written in Rust">
    <meta name="twitter:image:alt" content="The JavaScript Oxidation Compiler">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1ba098a0><!--[--><div class="banner" data-v-27faa16c><div class="text" data-v-27faa16c> Announcing <a href="/blog/2023-12-12-announcing-oxlint.html" data-v-27faa16c>Oxlint General Availability</a> ðŸŽ‰ </div><button type="button" data-v-27faa16c><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" data-v-27faa16c><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" data-v-27faa16c></path></svg></button></div><!--]--><!--[--><span tabindex="-1" data-v-9b8d7dbb></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-9b8d7dbb> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1ba098a0 data-v-a4a834ae><div class="VPNavBar has-sidebar" data-v-a4a834ae data-v-b72b5163><div class="container" data-v-b72b5163><div class="title" data-v-b72b5163><div class="VPNavBarTitle has-sidebar" data-v-b72b5163 data-v-fe6b3182><a class="title" href="/" data-v-fe6b3182><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://raw.githubusercontent.com/oxc-project/oxc-assets/main/logo-round-min.png" alt data-v-9625fb19><!--]--><!--[-->Oxc<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-b72b5163><div class="curtain" data-v-b72b5163></div><div class="content-body" data-v-b72b5163><!--[--><!--]--><div class="VPNavBarSearch search" data-v-b72b5163><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b72b5163 data-v-34dd93b4><span id="main-nav-aria-label" class="visually-hidden" data-v-34dd93b4>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/guide/introduction.html" tabindex="0" data-v-34dd93b4 data-v-b8fa1e6c><!--[--><span data-v-b8fa1e6c>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/learn/parser_in_rust/intro.html" tabindex="0" data-v-34dd93b4 data-v-b8fa1e6c><!--[--><span data-v-b8fa1e6c>Learn</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/contribute/introduction.html" tabindex="0" data-v-34dd93b4 data-v-b8fa1e6c><!--[--><span data-v-b8fa1e6c>Contribute</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://oxc-project.github.io/oxc/playground/" target="_blank" rel="noreferrer" tabindex="0" data-v-34dd93b4 data-v-b8fa1e6c><!--[--><span data-v-b8fa1e6c>Playground</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-34dd93b4 data-v-73e7a98c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-73e7a98c><span class="text" data-v-73e7a98c><!----><span data-v-73e7a98c>Resources</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-73e7a98c><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-73e7a98c><div class="VPMenu" data-v-73e7a98c data-v-5c340a1b><div class="items" data-v-5c340a1b><!--[--><!--[--><div class="VPMenuLink" data-v-5c340a1b data-v-984e826f><a class="VPLink link" href="/blog/2023-12-12-announcing-oxlint.html" data-v-984e826f><!--[-->Blog<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5c340a1b data-v-984e826f><a class="VPLink link" href="/team.html" data-v-984e826f><!--[-->Team<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-5c340a1b data-v-984e826f><a class="VPLink link" href="/ecosystem.html" data-v-984e826f><!--[-->Ecosystem<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b72b5163 data-v-1c50605b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-1c50605b data-v-1094648d data-v-b1c4ac43><span class="check" data-v-b1c4ac43><span class="icon" data-v-b1c4ac43><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1094648d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1094648d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-b72b5163 data-v-be855d73 data-v-a0fc862c><!--[--><a class="VPSocialLink no-icon" href="https://x.com/boshen_c" aria-label="twitter" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/9uXCAwqQZW" aria-label="discord" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/oxc-project/oxc" aria-label="github" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-b72b5163 data-v-90c91a17 data-v-73e7a98c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-73e7a98c><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-73e7a98c><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-73e7a98c><div class="VPMenu" data-v-73e7a98c data-v-5c340a1b><!----><!--[--><!--[--><!----><div class="group" data-v-90c91a17><div class="item appearance" data-v-90c91a17><p class="label" data-v-90c91a17>Appearance</p><div class="appearance-action" data-v-90c91a17><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-90c91a17 data-v-1094648d data-v-b1c4ac43><span class="check" data-v-b1c4ac43><span class="icon" data-v-b1c4ac43><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1094648d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1094648d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-90c91a17><div class="item social-links" data-v-90c91a17><div class="VPSocialLinks social-links-list" data-v-90c91a17 data-v-a0fc862c><!--[--><a class="VPSocialLink no-icon" href="https://x.com/boshen_c" aria-label="twitter" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/9uXCAwqQZW" aria-label="discord" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/oxc-project/oxc" aria-label="github" target="_blank" rel="noopener" data-v-a0fc862c data-v-1c707077><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b72b5163 data-v-8e9f3511><span class="container" data-v-8e9f3511><span class="top" data-v-8e9f3511></span><span class="middle" data-v-8e9f3511></span><span class="bottom" data-v-8e9f3511></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-1ba098a0 data-v-7f0d946c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-7f0d946c><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-7f0d946c><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-7f0d946c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-7f0d946c data-v-c25f0ea6><button data-v-c25f0ea6>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-1ba098a0 data-v-88f33a39><div class="curtain" data-v-88f33a39></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-88f33a39><span class="visually-hidden" id="sidebar-aria-label" data-v-88f33a39> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-88f33a39><section class="VPSidebarItem level-0 has-active" data-v-88f33a39 data-v-7e693bba><div class="item" role="button" tabindex="0" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><h2 class="text" data-v-7e693bba>JavaScript Parser in Rust</h2><!----></div><div class="items" data-v-7e693bba><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/intro.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/lexer.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Lexer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/ast.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>AST</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/parser.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Parser</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/errors.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Errors</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/parser_in_rust/semantic_analysis.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Semantic Analysis</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-88f33a39><section class="VPSidebarItem level-0" data-v-88f33a39 data-v-7e693bba><div class="item" role="button" tabindex="0" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><h2 class="text" data-v-7e693bba>ECMAScript</h2><!----></div><div class="items" data-v-7e693bba><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/ecmascript/spec.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/ecmascript/grammar.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Grammar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-88f33a39><section class="VPSidebarItem level-0" data-v-88f33a39 data-v-7e693bba><!----><div class="items" data-v-7e693bba><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/performance.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>Performance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7e693bba data-v-7e693bba><div class="item" data-v-7e693bba><div class="indicator" data-v-7e693bba></div><a class="VPLink link link" href="/docs/learn/references.html" data-v-7e693bba><!--[--><p class="text" data-v-7e693bba>References</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1ba098a0 data-v-60adb90a><div class="VPDoc has-sidebar has-aside" data-v-60adb90a data-v-26bc8dd8><!--[--><!--]--><div class="container" data-v-26bc8dd8><div class="aside" data-v-26bc8dd8><div class="aside-curtain" data-v-26bc8dd8></div><div class="aside-container" data-v-26bc8dd8><div class="aside-content" data-v-26bc8dd8><div class="VPDocAside" data-v-26bc8dd8 data-v-86d4537e><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-86d4537e data-v-05da06c7><div class="content" data-v-05da06c7><div class="outline-marker" data-v-05da06c7></div><div class="outline-title" role="heading" aria-level="2" data-v-05da06c7>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-05da06c7><span class="visually-hidden" id="doc-outline-aria-label" data-v-05da06c7> Table of Contents for current page </span><ul class="root" data-v-05da06c7 data-v-992409ec><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-86d4537e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-26bc8dd8><div class="content-container" data-v-26bc8dd8><!--[--><!--]--><!----><main class="main" data-v-26bc8dd8><div style="position:relative;" class="vp-doc _docs_learn_parser_in_rust_parser" data-v-26bc8dd8><div><h1 id="parser" tabindex="-1">Parser <a class="header-anchor" href="#parser" aria-label="Permalink to &quot;Parser&quot;">â€‹</a></h1><p>The parser we are going to construct is called a <a href="https://en.wikipedia.org/wiki/Recursive_descent_parser" target="_blank" rel="noreferrer">recursive descent parser</a>, it is the manual process of going down the grammar and building up the AST.</p><p>The parser starts simple, it holds the source code, the lexer, and the current token consumed from the lexer.</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">pub</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">struct</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#6A737D;">    /// Source Code</span></span>
<span class="line"><span style="color:#E1E4E8;">    source</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">str</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    lexer</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Lexer</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Current Token consumed from the lexer</span></span>
<span class="line"><span style="color:#E1E4E8;">    cur_token</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Token</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// The end range of the previous token</span></span>
<span class="line"><span style="color:#E1E4E8;">    prev_token_end</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">usize</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">pub</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">new</span><span style="color:#E1E4E8;">(source</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;">&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">str</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            source,</span></span>
<span class="line"><span style="color:#E1E4E8;">            lexer</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Lexer</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">new</span><span style="color:#E1E4E8;">(source),</span></span>
<span class="line"><span style="color:#E1E4E8;">            cur_token</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Token</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">default</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">pub</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Program</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Ok</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">Program</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            node</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Node</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                start</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                end</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">source</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">len</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">            body</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vec!</span><span style="color:#E1E4E8;">[]</span></span>
<span class="line"><span style="color:#E1E4E8;">        })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">pub</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">struct</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#6A737D;">    /// Source Code</span></span>
<span class="line"><span style="color:#24292E;">    source</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">str</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    lexer</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Lexer</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Current Token consumed from the lexer</span></span>
<span class="line"><span style="color:#24292E;">    cur_token</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Token</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// The end range of the previous token</span></span>
<span class="line"><span style="color:#24292E;">    prev_token_end</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">usize</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">pub</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">new</span><span style="color:#24292E;">(source</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;">&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">str</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Self</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">Self</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            source,</span></span>
<span class="line"><span style="color:#24292E;">            lexer</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Lexer</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">new</span><span style="color:#24292E;">(source),</span></span>
<span class="line"><span style="color:#24292E;">            cur_token</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Token</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">default</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">pub</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Program</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Ok</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">Program</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            node</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Node</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                start</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                end</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">source</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">len</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            body</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vec!</span><span style="color:#24292E;">[]</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="helper-functions" tabindex="-1">Helper functions <a class="header-anchor" href="#helper-functions" aria-label="Permalink to &quot;Helper functions&quot;">â€‹</a></h2><p>The current token <code>cur_token: Token</code> holds the current token returned from the lexer. We&#39;ll make the parser code cleaner by adding some helper functions for navigating and inspecting this token.</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">start_node</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Node</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> token </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">cur_token</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Node</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">new</span><span style="color:#E1E4E8;">(token</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">start, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">finish_node</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">, node</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Node</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Node</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Node</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">new</span><span style="color:#E1E4E8;">(node</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">start, </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">prev_token_end)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cur_token</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#B392F0;">Token</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">cur_token</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cur_kind</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Kind</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">cur_token</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">kind</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Checks if the current index has token `Kind`</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">at</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">, kind</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Kind</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bool</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">cur_kind</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> kind</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance if we are at `Kind`</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bump</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">, kind</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Kind</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">at</span><span style="color:#E1E4E8;">(kind) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">advance</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance any token</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bump_any</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">advance</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance and return true if we are at `Kind`, return false otherwise</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eat</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">, kind</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Kind</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bool</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">at</span><span style="color:#E1E4E8;">(kind) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">advance</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Move to the next token</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">advance</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> token </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">lexer</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">next_token</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">prev_token_end </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">cur_token</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">end;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">cur_token </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> token;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">start_node</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Node</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> token </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">cur_token</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Node</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">new</span><span style="color:#24292E;">(token</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">start, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">finish_node</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">, node</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Node</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Node</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Node</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">new</span><span style="color:#24292E;">(node</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">start, </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">prev_token_end)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cur_token</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#6F42C1;">Token</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">cur_token</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cur_kind</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Kind</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">cur_token</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">kind</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Checks if the current index has token `Kind`</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">, kind</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Kind</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bool</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">cur_kind</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> kind</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance if we are at `Kind`</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bump</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">, kind</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Kind</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(kind) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">advance</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance any token</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bump_any</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">advance</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Advance and return true if we are at `Kind`, return false otherwise</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eat</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">, kind</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Kind</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bool</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">at</span><span style="color:#24292E;">(kind) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">advance</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /// Move to the next token</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">advance</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> token </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">lexer</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">next_token</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">prev_token_end </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">cur_token</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">end;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">cur_token </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> token;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="parse-functions" tabindex="-1">Parse Functions <a class="header-anchor" href="#parse-functions" aria-label="Permalink to &quot;Parse Functions&quot;">â€‹</a></h2><p>The <code>DebuggerStatement</code> is the most simple statement to parse, so let&#39;s try and parse it and return a valid program</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">pub</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Program</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> stmt </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">parse_debugger_statement</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> body </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vec!</span><span style="color:#E1E4E8;">[stmt];</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Program</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            node</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Node</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                start</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                end</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#E1E4E8;">source</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">len</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">            body,</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parse_debugger_statement</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Statement</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> node </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">start_node</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">        // NOTE: the token returned from the lexer is `Kind::Debugger`, we&#39;ll fix this later.</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">bump_any</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">Statement</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">DebuggerStatement</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            node</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">self</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">finish_node</span><span style="color:#E1E4E8;">(node),</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">pub</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Program</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> stmt </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">parse_debugger_statement</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> body </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vec!</span><span style="color:#24292E;">[stmt];</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Program</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            node</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Node</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                start</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                end</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#24292E;">source</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">len</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            body,</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parse_debugger_statement</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Statement</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> node </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">start_node</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">        // NOTE: the token returned from the lexer is `Kind::Debugger`, we&#39;ll fix this later.</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">bump_any</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">Statement</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">DebuggerStatement</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            node</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">finish_node</span><span style="color:#24292E;">(node),</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>All the other parse functions build on these primitive helper functions, for example parsing the <code>while</code> statement in swc:</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">https</span><span style="color:#F97583;">:</span><span style="color:#6A737D;">//github.com/swc-project/swc/blob/554b459e26b24202f66c3c58a110b3f26bbd13cd/crates/swc_ecma_parser/src/parser/stmt.rs#L952-L970</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">https</span><span style="color:#D73A49;">:</span><span style="color:#6A737D;">//github.com/swc-project/swc/blob/554b459e26b24202f66c3c58a110b3f26bbd13cd/crates/swc_ecma_parser/src/parser/stmt.rs#L952-L970</span></span></code></pre></div><h2 id="parsing-expressions" tabindex="-1">Parsing Expressions <a class="header-anchor" href="#parsing-expressions" aria-label="Permalink to &quot;Parsing Expressions&quot;">â€‹</a></h2><p>The grammar for expressions is deeply nested and recursive, which may cause stack overflow on long expressions (for example in <a href="https://github.com/microsoft/TypeScript/blob/main/tests/cases/compiler/binderBinaryExpressionStressJs.ts" target="_blank" rel="noreferrer">this TypeScript test</a>),</p><p>To avoid recursion, we can use a technique called &quot;Pratt Parsing&quot;. A more in-depth tutorial can be found <a href="https://matklad.github.io/2020/04/13/simple-but-powerful-pratt-parsing.html" target="_blank" rel="noreferrer">here</a>, written by the author of Rust-Analyzer. And a Rust version here in <a href="https://github.com/rome/tools/blob/5a059c0413baf1d54436ac0c149a829f0dfd1f4d/crates/rome_js_parser/src/syntax/expr.rs#L442" target="_blank" rel="noreferrer">Rome</a>.</p><h2 id="lists" tabindex="-1">Lists <a class="header-anchor" href="#lists" aria-label="Permalink to &quot;Lists&quot;">â€‹</a></h2><p>There are lots of places where we need to parse a list separated by a punctuation, for example <code>[a, b, c]</code> or <code>{a, b, c}</code>.</p><p>The code for parsing lists are all similar, we can use the <a href="https://en.wikipedia.org/wiki/Template_method_pattern" target="_blank" rel="noreferrer">template method pattern</a> to avoid duplication by using traits.</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">https</span><span style="color:#F97583;">:</span><span style="color:#6A737D;">//github.com/rome/tools/blob/85ddb4b2c622cac9638d5230dcefb6cf571677f8/crates/rome_js_parser/src/parser/parse_lists.rs#L131-L157</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">https</span><span style="color:#D73A49;">:</span><span style="color:#6A737D;">//github.com/rome/tools/blob/85ddb4b2c622cac9638d5230dcefb6cf571677f8/crates/rome_js_parser/src/parser/parse_lists.rs#L131-L157</span></span></code></pre></div><p>This pattern can also prevent us from infinite loops, specifically <code>progress.assert_progressing(p);</code>.</p><p>Implementation details can then be provided for different lists, for example:</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">https</span><span style="color:#F97583;">:</span><span style="color:#6A737D;">//github.com/rome/tools/blob/85ddb4b2c622cac9638d5230dcefb6cf571677f8/crates/rome_js_parser/src/syntax/expr.rs#L1543-L1580</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">https</span><span style="color:#D73A49;">:</span><span style="color:#6A737D;">//github.com/rome/tools/blob/85ddb4b2c622cac9638d5230dcefb6cf571677f8/crates/rome_js_parser/src/syntax/expr.rs#L1543-L1580</span></span></code></pre></div><h2 id="cover-grammar" tabindex="-1">Cover Grammar <a class="header-anchor" href="#cover-grammar" aria-label="Permalink to &quot;Cover Grammar&quot;">â€‹</a></h2><p>Detailed in <a href="/docs/learn/ecmascript/grammar.html#cover-grammar">cover grammar</a>, there are times when we need to convert an <code>Expression</code> to a <code>BindingIdentifier</code>. Dynamic languages such as JavaScript can simply rewrite the node type:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">https</span><span style="color:#E1E4E8;">:</span><span style="color:#6A737D;">//github.com/acornjs/acorn/blob/11735729c4ebe590e406f952059813f250a4cbd1/acorn/src/lval.js#L11-L26</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">https</span><span style="color:#24292E;">:</span><span style="color:#6A737D;">//github.com/acornjs/acorn/blob/11735729c4ebe590e406f952059813f250a4cbd1/acorn/src/lval.js#L11-L26</span></span></code></pre></div><p>But in Rust, we need to do a struct to struct transformation. A nice and clean way to do this is to use an trait.</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">pub</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">trait</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CoverGrammar</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">T</span><span style="color:#E1E4E8;">&gt;</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Sized</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(value</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">T</span><span style="color:#E1E4E8;">, p</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Result</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">pub</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">trait</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CoverGrammar</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">&gt;</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Sized</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(value</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">T</span><span style="color:#24292E;">, p</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Result</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Self</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>The trait accepts <code>T</code> as the input type, and <code>Self</code> and the output type, so we can define the following:</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">CoverGrammar</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BindingPattern</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(expr</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;, p</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Result</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">match</span><span style="color:#E1E4E8;"> expr {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">Expression</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">Identifier</span><span style="color:#E1E4E8;">(ident) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Self</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(ident</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">unbox</span><span style="color:#E1E4E8;">(), p),</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">Expression</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">ObjectExpression</span><span style="color:#E1E4E8;">(expr) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Self</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(expr</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">unbox</span><span style="color:#E1E4E8;">(), p),</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">Expression</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">ArrayExpression</span><span style="color:#E1E4E8;">(expr) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Self</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(expr</span><span style="color:#F97583;">.</span><span style="color:#B392F0;">unbox</span><span style="color:#E1E4E8;">(), p),</span></span>
<span class="line"><span style="color:#E1E4E8;">            _ </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Err</span><span style="color:#E1E4E8;">(()),</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">CoverGrammar</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">ObjectExpression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BindingPattern</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(obj_expr</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ObjectExpression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;, p</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Result</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">BindingIdentifier</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">ObjectPattern</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">ObjectPattern</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">impl</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">CoverGrammar</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">ArrayExpression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;&gt; </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BindingPattern</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">fn</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cover</span><span style="color:#E1E4E8;">(expr</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ArrayExpression</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;, p</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;mut</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Parser</span><span style="color:#E1E4E8;">&lt;&#39;</span><span style="color:#B392F0;">a</span><span style="color:#E1E4E8;">&gt;) </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Result</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Self</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">BindingIdentifier</span><span style="color:#F97583;">::</span><span style="color:#B392F0;">ArrayPattern</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">ArrayPattern</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">CoverGrammar</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;&gt; </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BindingPattern</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(expr</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;, p</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Result</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Self</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">match</span><span style="color:#24292E;"> expr {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">Expression</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">Identifier</span><span style="color:#24292E;">(ident) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Self</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(ident</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">unbox</span><span style="color:#24292E;">(), p),</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">Expression</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">ObjectExpression</span><span style="color:#24292E;">(expr) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Self</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(expr</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">unbox</span><span style="color:#24292E;">(), p),</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">Expression</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">ArrayExpression</span><span style="color:#24292E;">(expr) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Self</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(expr</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">unbox</span><span style="color:#24292E;">(), p),</span></span>
<span class="line"><span style="color:#24292E;">            _ </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Err</span><span style="color:#24292E;">(()),</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">CoverGrammar</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">ObjectExpression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;&gt; </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BindingPattern</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(obj_expr</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ObjectExpression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;, p</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Result</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Self</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">BindingIdentifier</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">ObjectPattern</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ObjectPattern</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">impl</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">CoverGrammar</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">ArrayExpression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;&gt; </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BindingPattern</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">fn</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cover</span><span style="color:#24292E;">(expr</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ArrayExpression</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;, p</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;mut</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Parser</span><span style="color:#24292E;">&lt;&#39;</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">&gt;) </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Result</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Self</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">BindingIdentifier</span><span style="color:#D73A49;">::</span><span style="color:#6F42C1;">ArrayPattern</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">ArrayPattern</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Then for anywhere we need to convert an <code>Expression</code> to <code>BindingPattern</code>, call <code>BindingPattern::cover(expression)</code>.</p><hr><h1 id="typescript" tabindex="-1">TypeScript <a class="header-anchor" href="#typescript" aria-label="Permalink to &quot;TypeScript&quot;">â€‹</a></h1><p>So you are done with JavaScript and you want to challenge parsing TypeScript? The bad news is that there is no specification, but the good news is that the TypeScript parser is in <a href="https://github.com/microsoft/TypeScript/blob/main/src/compiler/parser.ts" target="_blank" rel="noreferrer">a single file</a> ðŸ™ƒ.</p><h2 id="jsx-vs-tsx" tabindex="-1">JSX vs TSX <a class="header-anchor" href="#jsx-vs-tsx" aria-label="Permalink to &quot;JSX vs TSX&quot;">â€‹</a></h2><p>For the following code,</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> foo </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt; bar;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> foo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt; bar;</span></span></code></pre></div><p>It is a syntax error if this is <code>tsx</code> (Unterminated JSX), but it is correct <code>VariableDeclaration</code> with <code>TSTypeAssertion</code>.</p><h2 id="lookahead" tabindex="-1">Lookahead <a class="header-anchor" href="#lookahead" aria-label="Permalink to &quot;Lookahead&quot;">â€‹</a></h2><p>In certain places, the parser need to lookahead and peek more than one token to determine the correct grammar.</p><h3 id="tsindexsignature" tabindex="-1">TSIndexSignature <a class="header-anchor" href="#tsindexsignature" aria-label="Permalink to &quot;TSIndexSignature&quot;">â€‹</a></h3><p>For example, to parse <code>TSIndexSignature</code>, consider the following two cases:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">A</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> { </span><span style="color:#F97583;">readonly</span><span style="color:#E1E4E8;"> [</span><span style="color:#FFAB70;">a</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">]</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">           ^</span><span style="color:#B392F0;">__________________________</span><span style="color:#E1E4E8;">^ </span><span style="color:#B392F0;">TSIndexSignature</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">B</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> { [a]</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">           ^</span><span style="color:#B392F0;">_________</span><span style="color:#E1E4E8;">^ </span><span style="color:#B392F0;">TSPropertySignature</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">A</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">readonly</span><span style="color:#24292E;"> [</span><span style="color:#E36209;">a</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">           ^</span><span style="color:#6F42C1;">__________________________</span><span style="color:#24292E;">^ </span><span style="color:#6F42C1;">TSIndexSignature</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">B</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> { [a]</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">           ^</span><span style="color:#6F42C1;">_________</span><span style="color:#24292E;">^ </span><span style="color:#6F42C1;">TSPropertySignature</span></span></code></pre></div><p>For <code>type A</code> on the first <code>{</code>, we need to peek 5 tokens (<code>readonly</code>, <code>[</code>, <code>a</code>, <code>:</code> and <code>number</code>) in order to make sure it is a <code>TSIndexSignature</code> and not a <code>TSPropertySignature</code>.</p><p>To make this possible and efficient, the lexer requires a buffer for storing multiple tokens.</p><h3 id="arrow-expressions" tabindex="-1">Arrow Expressions <a class="header-anchor" href="#arrow-expressions" aria-label="Permalink to &quot;Arrow Expressions&quot;">â€‹</a></h3><p>Discussed in <a href="/docs/learn/ecmascript/grammar.html#cover-grammar">cover grammar</a>, we need to convert from <code>Expression</code>s to <code>BindingPattern</code>s when the <code>=&gt;</code> token is found after a SequenceExpression.</p><p>But this approach does not work for TypeScript as each item inside the <code>()</code> can have TypeScript syntax, there are just too many cases to cover, for example:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">x</span><span style="color:#E1E4E8;">&gt;a, b </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">c</span><span style="color:#E1E4E8;">, d</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">a</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">b</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {} </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">c</span><span style="color:#E1E4E8;">!) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">x</span><span style="color:#24292E;">&gt;a, b </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">c</span><span style="color:#24292E;">, d</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#E36209;">a</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">b</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {} </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">c</span><span style="color:#24292E;">!) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {};</span></span></code></pre></div><p>It is recommended to study the TypeScript source code for this specific case. The relevant code are:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tryParseParenthesizedArrowFunctionExpression</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">allowReturnTypeInArrowFunction</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">boolean</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Expression</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">triState</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isParenthesizedArrowFunctionExpression</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (triState </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> Tristate.False) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// It&#39;s definitely not a parenthesized arrow function expression.</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// If we definitely have an arrow function, then we can just parse one, not requiring a</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// following =&gt; or { token. Otherwise, we *might* have an arrow function.  Try to parse</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// it out, but don&#39;t allow any ambiguity, and return &#39;undefined&#39; if this could be an</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// expression instead.</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> triState </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> Tristate.True</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parseParenthesizedArrowFunctionExpression</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/*allowAmbiguity*/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">/*allowReturnTypeInArrowFunction*/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tryParse</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parsePossibleParenthesizedArrowFunctionExpression</span><span style="color:#E1E4E8;">(allowReturnTypeInArrowFunction));</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//  True        -&gt; We definitely expect a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//  False       -&gt; There *cannot* be a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//  Unknown     -&gt; There *might* be a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//                 Speculatively look ahead to be sure, and rollback if not.</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isParenthesizedArrowFunctionExpression</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tristate</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> SyntaxKind.OpenParenToken </span><span style="color:#F97583;">||</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> SyntaxKind.LessThanToken </span><span style="color:#F97583;">||</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> SyntaxKind.AsyncKeyword</span></span>
<span class="line"><span style="color:#E1E4E8;">  ) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lookAhead</span><span style="color:#E1E4E8;">(isParenthesizedArrowFunctionExpressionWorker);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">token</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> SyntaxKind.EqualsGreaterThanToken) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ERROR RECOVERY TWEAK:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// If we see a standalone =&gt; try to parse it as an arrow function expression as that&#39;s</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// likely what the user intended to write.</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Tristate.True;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Definitely not a parenthesized arrow function.</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Tristate.False;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tryParseParenthesizedArrowFunctionExpression</span><span style="color:#24292E;">(</span><span style="color:#E36209;">allowReturnTypeInArrowFunction</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boolean</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Expression</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">triState</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isParenthesizedArrowFunctionExpression</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (triState </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> Tristate.False) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// It&#39;s definitely not a parenthesized arrow function expression.</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// If we definitely have an arrow function, then we can just parse one, not requiring a</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// following =&gt; or { token. Otherwise, we *might* have an arrow function.  Try to parse</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// it out, but don&#39;t allow any ambiguity, and return &#39;undefined&#39; if this could be an</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// expression instead.</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> triState </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> Tristate.True</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parseParenthesizedArrowFunctionExpression</span><span style="color:#24292E;">(</span><span style="color:#6A737D;">/*allowAmbiguity*/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">/*allowReturnTypeInArrowFunction*/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tryParse</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parsePossibleParenthesizedArrowFunctionExpression</span><span style="color:#24292E;">(allowReturnTypeInArrowFunction));</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//  True        -&gt; We definitely expect a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//  False       -&gt; There *cannot* be a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//  Unknown     -&gt; There *might* be a parenthesized arrow function here.</span></span>
<span class="line"><span style="color:#6A737D;">//                 Speculatively look ahead to be sure, and rollback if not.</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isParenthesizedArrowFunctionExpression</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Tristate</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> SyntaxKind.OpenParenToken </span><span style="color:#D73A49;">||</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> SyntaxKind.LessThanToken </span><span style="color:#D73A49;">||</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> SyntaxKind.AsyncKeyword</span></span>
<span class="line"><span style="color:#24292E;">  ) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lookAhead</span><span style="color:#24292E;">(isParenthesizedArrowFunctionExpressionWorker);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">token</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> SyntaxKind.EqualsGreaterThanToken) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ERROR RECOVERY TWEAK:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// If we see a standalone =&gt; try to parse it as an arrow function expression as that&#39;s</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// likely what the user intended to write.</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Tristate.True;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Definitely not a parenthesized arrow function.</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Tristate.False;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>In summary, the TypeScript parser uses a combination of lookahead (fast path) and backtracking to parse arrow functions.</p></div></div></main><footer class="VPDocFooter" data-v-26bc8dd8 data-v-19a95480><!--[--><!--]--><div class="edit-info" data-v-19a95480><div class="edit-link" data-v-19a95480><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/oxc-project/oxc-project.github.io/edit/main/src/docs/learn/parser_in_rust/parser.md" target="_blank" rel="noreferrer" data-v-19a95480><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-19a95480><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Suggest changes to this page<!--]--></a></div><!----></div><nav class="prev-next" data-v-19a95480><div class="pager" data-v-19a95480><a class="pager-link prev" href="/docs/learn/parser_in_rust/ast.html" data-v-19a95480><span class="desc" data-v-19a95480>Previous page</span><span class="title" data-v-19a95480>AST</span></a></div><div class="pager" data-v-19a95480><a class="pager-link next" href="/docs/learn/parser_in_rust/errors.html" data-v-19a95480><span class="desc" data-v-19a95480>Next page</span><span class="title" data-v-19a95480>Errors</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1ba098a0 data-v-b2509f9b><div class="container" data-v-b2509f9b><p class="message" data-v-b2509f9b>Released under the MIT License.</p><p class="copyright" data-v-b2509f9b>Copyright Â© 2023-present Boshen & Oxc Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_contribute_introduction.md\":\"03c87ccc\",\"docs_contribute_minifier.md\":\"608e7f51\",\"docs_contribute_performance.md\":\"5f810660\",\"docs_learn_architecture_parser.md\":\"9efb07fc\",\"docs_learn_architecture_introduction.md\":\"926238da\",\"docs_learn_architecture_linter.md\":\"7bc27377\",\"docs_contribute_parser.md\":\"6cbae43e\",\"docs_guide_usage_parser.md\":\"bd396ab6\",\"docs_guide_usage_resolver.md\":\"7becec72\",\"ja_docs_contribute_vscode.md\":\"627aa7c3\",\"ja_docs_guide_usage_linter.md\":\"cf2b5868\",\"docs_contribute_formatter.md\":\"5076fad4\",\"blog_2023-12-12-announcing-oxlint.md\":\"e4ef6d34\",\"ja_docs_guide_usage_philosophy.md\":\"11a02f82\",\"docs_contribute_vscode.md\":\"0db74ec7\",\"docs_contribute_linter.md\":\"c540be8d\",\"docs_learn_parser_in_rust_ast.md\":\"0af77bcb\",\"docs_guide_introduction.md\":\"fe02bd91\",\"docs_learn_architecture_resolver.md\":\"8bf1f61c\",\"docs_learn_architecture_minifier.md\":\"225b50e0\",\"docs_guide_usage_linter.md\":\"8948d41e\",\"zh_docs_contribute_showcase.md\":\"69263bfd\",\"zh_docs_guide_introduction.md\":\"8535daef\",\"zh_docs_learn_architecture_minifier.md\":\"8a72c354\",\"ja_docs_learn_architecture_linter.md\":\"5453a48a\",\"ja_docs_learn_architecture_introduction.md\":\"e317dcd4\",\"zh_docs_guide_philosophy.md\":\"52470269\",\"ja_docs_learn_architecture_parser.md\":\"c7440c43\",\"zh_docs_learn_architecture_resolver.md\":\"50d1d524\",\"ja_docs_learn_architecture_formatter.md\":\"42fa973b\",\"ja_docs_guide_benchmarks.md\":\"3fd6bdfb\",\"docs_contribute_rules.md\":\"d89dc530\",\"ja_docs_guide_introduction.md\":\"6ad1f5fa\",\"ja_docs_guide_philosophy.md\":\"9a6f52d1\",\"zh_docs_guide_usage_linter.md\":\"90aa99e2\",\"ja_docs_guide_usage_benchmarks.md\":\"33e24b08\",\"ja_docs_learn_architecture_minifier.md\":\"94e9c05c\",\"ja_docs_contribute_transformer.md\":\"4783cf0d\",\"ja_docs_guide_usage_resolver.md\":\"ec4e18b8\",\"ja_docs_guide_usage_parser.md\":\"d9096f30\",\"ecosystem.md\":\"64e53c8d\",\"docs_learn_parser_in_rust_intro.md\":\"e4b0d2da\",\"zh_docs_learn_parser_in_rust_parser.md\":\"6b8a7043\",\"docs_learn_parser_in_rust_semantic_analysis.md\":\"5c62d673\",\"docs_learn_parser_in_rust_lexer.md\":\"00e35ead\",\"docs_learn_parser_in_rust_errors.md\":\"042ac5b5\",\"docs_contribute_development.md\":\"981f08a1\",\"ja_docs_contribute_showcase.md\":\"7561c2a4\",\"docs_contribute_debugging.md\":\"6e19ec38\",\"ja_blog_2023-11-08-announcing-oxlint.md\":\"a5eaa54e\",\"ja_docs_learn_architecture_resolver.md\":\"f24fb62b\",\"ja_docs_contribute_linter.md\":\"931e426d\",\"ja_docs_learn_parser_in_rust_semantic_analysis.md\":\"8206488e\",\"ja_docs_contribute_parser.md\":\"4a8b3445\",\"ja_docs_contribute_introduction.md\":\"35016853\",\"docs_learn_references.md\":\"cf5ba4f5\",\"ja_docs_contribute_minifier.md\":\"24769724\",\"zh_docs_learn_ecmascript_spec.md\":\"529cb9c4\",\"zh_docs_learn_ecosystem.md\":\"73bcf427\",\"ja_docs_contribute_resolver.md\":\"d0a679f6\",\"docs_contribute_resolver.md\":\"e20f1e00\",\"ja_docs_learn_architecture_transformer.md\":\"414c888e\",\"ja_docs_contribute_prettier.md\":\"511f89da\",\"ja_docs_learn_parser_in_rust_ast.md\":\"ebdd011f\",\"ja_docs_contribute_performance.md\":\"668dc08e\",\"ja_docs_learn_parser_in_rust_intro.md\":\"a1242bb5\",\"zh_docs_contribute_formatter.md\":\"68eb5c30\",\"ja_index.md\":\"5401adf6\",\"zh_docs_contribute_introduction.md\":\"eb040959\",\"zh_docs_contribute_minifier.md\":\"42c772b1\",\"zh_docs_contribute_linter.md\":\"d762f66a\",\"zh_docs_contribute_parser.md\":\"af3cf936\",\"ja_docs_learn_parser_in_rust_errors.md\":\"87886497\",\"zh_docs_contribute_performance.md\":\"d20fdee2\",\"zh_blog_2023-11-08-announcing-oxlint.md\":\"805f1e27\",\"zh_docs_contribute_resolver.md\":\"e4b4ac35\",\"zh_docs_contribute_prettier.md\":\"8238644d\",\"zh_docs_learn_parser_in_rust_errors.md\":\"0ae85360\",\"zh_docs_contribute_development.md\":\"4f347382\",\"ja_docs_learn_parser_in_rust_lexer.md\":\"e8fe59ff\",\"zh_docs_contribute_transformer.md\":\"98b859ad\",\"zh_docs_learn_parser_in_rust_semantic_analysis.md\":\"7d422b05\",\"zh_index.md\":\"231c98c1\",\"zh_docs_learn_references.md\":\"cee41b8d\",\"zh_docs_contribute_vscode.md\":\"d11ac6c2\",\"zh_docs_learn_parser_in_rust_ast.md\":\"a945b59c\",\"ja_docs_learn_ecmascript_grammar.md\":\"4ff05d5e\",\"zh_docs_guide_usage_parser.md\":\"e4175636\",\"zh_docs_guide_usage_philosophy.md\":\"8b0e1001\",\"zh_docs_learn_performance.md\":\"8a57bf0d\",\"docs_learn_architecture_transformer.md\":\"0055f12d\",\"zh_docs_guide_usage_resolver.md\":\"66ed0c6a\",\"docs_learn_ecmascript_grammar.md\":\"50281fa9\",\"zh_docs_learn_architecture_linter.md\":\"fc9478ad\",\"docs_learn_parser_in_rust_parser.md\":\"005ebeb6\",\"team.md\":\"669f87ea\",\"zh_docs_learn_architecture_parser.md\":\"d715eb6a\",\"zh_docs_learn_architecture_formatter.md\":\"f50d8fe6\",\"zh_docs_learn_architecture_introduction.md\":\"dc54ae14\",\"docs_learn_ecmascript_spec.md\":\"5ecac099\",\"zh_docs_learn_architecture_transformer.md\":\"9e440c2b\",\"docs_learn_architecture_formatter.md\":\"eb45e74a\",\"docs_contribute_transformer.md\":\"75bc9baa\",\"ja_docs_learn_ecmascript_spec.md\":\"8d686462\",\"docs_contribute_codegen.md\":\"95a6c326\",\"ja_docs_contribute_development.md\":\"830f16f2\",\"ja_docs_contribute_formatter.md\":\"8104b455\",\"zh_docs_guide_usage_benchmarks.md\":\"36459599\",\"zh_docs_learn_ecmascript_grammar.md\":\"73224945\",\"ja_docs_learn_ecosystem.md\":\"61c56d87\",\"ja_docs_learn_references.md\":\"592cf310\",\"zh_docs_learn_parser_in_rust_intro.md\":\"0f629e73\",\"ja_docs_learn_parser_in_rust_parser.md\":\"0df593de\",\"zh_docs_contribute_codegen.md\":\"e42114aa\",\"ja_docs_contribute_codegen.md\":\"f2da898a\",\"index.md\":\"a1c5e3b7\",\"zh_docs_guide_benchmarks.md\":\"668906d8\",\"zh_docs_learn_parser_in_rust_lexer.md\":\"0dca4309\",\"ja_docs_learn_performance.md\":\"1f029c74\",\"docs_learn_performance.md\":\"ec0a5803\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Oxc\",\"logo\":\"https://raw.githubusercontent.com/oxc-project/oxc-assets/main/logo-round-min.png\",\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"twitter\",\"link\":\"https://x.com/boshen_c\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/9uXCAwqQZW\"},{\"icon\":\"github\",\"link\":\"https://github.com/oxc-project/oxc\"}],\"lastUpdated\":{\"formatOptions\":{\"dateStyle\":\"full\"}},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright Â© 2023-present Boshen & Oxc Contributors\"}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"title\":\"The JavaScript Oxidation Compiler\",\"titleTemplate\":\":title | The JavaScript Oxidation Compiler\",\"description\":\"A collection of high-performance JavaScript tools written in Rust\",\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/docs/guide/introduction\"},{\"text\":\"Learn\",\"link\":\"/docs/learn/parser_in_rust/intro\"},{\"text\":\"Contribute\",\"link\":\"/docs/contribute/introduction\"},{\"text\":\"Playground\",\"target\":\"_blank\",\"link\":\"https://oxc-project.github.io/oxc/playground/\"},{\"text\":\"Resources\",\"items\":[{\"text\":\"Blog\",\"link\":\"/blog/2023-12-12-announcing-oxlint.html\"},{\"text\":\"Team\",\"link\":\"/team\"},{\"text\":\"Ecosystem\",\"link\":\"/ecosystem\"}]}],\"sidebar\":{\"/docs/guide/\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/docs/guide/introduction\"}]},{\"text\":\"Tools\",\"items\":[{\"text\":\"Linter\",\"link\":\"/docs/guide/usage/linter\"},{\"text\":\"Parser\",\"link\":\"/docs/guide/usage/parser\"},{\"text\":\"Resolver\",\"link\":\"/docs/guide/usage/resolver\"}]}],\"/docs/learn/\":[{\"text\":\"JavaScript Parser in Rust\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/docs/learn/parser_in_rust/intro\"},{\"text\":\"Lexer\",\"link\":\"/docs/learn/parser_in_rust/lexer\"},{\"text\":\"AST\",\"link\":\"/docs/learn/parser_in_rust/ast\"},{\"text\":\"Parser\",\"link\":\"/docs/learn/parser_in_rust/parser\"},{\"text\":\"Errors\",\"link\":\"/docs/learn/parser_in_rust/errors\"},{\"text\":\"Semantic Analysis\",\"link\":\"/docs/learn/parser_in_rust/semantic_analysis\"}]},{\"text\":\"ECMAScript\",\"items\":[{\"text\":\"Specification\",\"link\":\"/docs/learn/ecmascript/spec\"},{\"text\":\"Grammar\",\"link\":\"/docs/learn/ecmascript/grammar\"}]},{\"text\":\"Performance\",\"link\":\"/docs/learn/performance\"},{\"text\":\"References\",\"link\":\"/docs/learn/references\"}],\"/docs/contribute/\":[{\"text\":\"Contribute\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/docs/contribute/introduction\"},{\"text\":\"Getting Started\",\"link\":\"/docs/contribute/development\"}]},{\"text\":\"Tools\",\"items\":[{\"text\":\"Parser\",\"link\":\"/docs/contribute/parser\"},{\"text\":\"Linter\",\"link\":\"/docs/contribute/linter\"},{\"text\":\"Formatter\",\"link\":\"/docs/contribute/formatter\"},{\"text\":\"Resolver\",\"link\":\"/docs/contribute/resolver\"},{\"text\":\"Transformer\",\"link\":\"/docs/contribute/transformer\"},{\"text\":\"Minifier\",\"link\":\"/docs/contribute/minifier\"},{\"text\":\"VSCode\",\"link\":\"/docs/contribute/vscode\"}]},{\"text\":\"Debugging\",\"link\":\"/docs/contribute/debugging\"},{\"text\":\"Performance\",\"link\":\"/docs/contribute/performance\"},{\"text\":\"Rules and Policy\",\"link\":\"/docs/contribute/rules\"}],\"/blog/\":[{\"text\":\"Oxlint General Availability\",\"link\":\"/blog/2023-12-12-announcing-oxlint\"}]},\"editLink\":{\"pattern\":\"https://github.com/oxc-project/oxc-project.github.io/edit/main/src/:path\",\"text\":\"Suggest changes to this page\"}},\"head\":[[\"meta\",{\"property\":\"og:title\",\"content\":\"The JavaScript Oxidation Compiler\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"A collection of high-performance JavaScript tools written in Rust\"}],[\"meta\",{\"name\":\"twitter:title\",\"content\":\"The JavaScript Oxidation Compiler\"}],[\"meta\",{\"name\":\"twitter:description\",\"content\":\"A collection of high-performance JavaScript tools written in Rust\"}],[\"meta\",{\"name\":\"twitter:image:alt\",\"content\":\"The JavaScript Oxidation Compiler\"}]]}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>